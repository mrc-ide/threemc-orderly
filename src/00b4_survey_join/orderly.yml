script: script.R

artefacts:
 - data:
      description:
      - Circumcision, individuals & clusters data, including MICS surveys. 
      filenames:
      - artefacts/survey_circumcision.csv.gz
        
# displayname: |
#   - Pull MICS surveys and add them to survey data. Also joins 
#   survey_circumcision, survey_clusters & survey_individuals from 
#   `00b1_create_survey_data`.

displayname: Join survey data, including MICS surveys. 

packages:
  - threemc
  - sf
  - readxl
  - dplyr
  - readr
  - stringr

depends:
  # 00a_create_area_data:
  00a2_areas_join:
    id: latest
    use:
      depends/areas.geojson: artefacts/areas.geojson 
  00b1_survey_cluster-individuals-circ_dhs-phia-ais:
    id: latest
    use:
      depends/survey_clusters.csv.gz: artefacts/survey_clusters.csv.gz
      depends/survey_individuals.csv.gz: artefacts/survey_individuals.csv.gz
      depends/survey_circumcision.csv.gz: artefacts/survey_circumcision.csv.gz
  00b3_survey_mics:
    id: latest
    use:
      depends/mics_surveys.csv.gz: artefacts/mics_surveys.csv.gz
